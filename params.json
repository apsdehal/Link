{"name":"Link","tagline":"A PHP router that helps you create webapps and APIs effortlessly","body":"#Link\r\nA __minimal__ router for your php webapps and APIs that effortlessly links all your project. Its fast and to the point.\r\n\r\n#Features\r\n- RESTful routing\r\n- Wildcards for your limitless creativity\r\n- Named routes to help you create links easily\r\n- Self documented, speaks its own legacy\r\n- Before and after routes function support\r\n- Tested with PHP >5.3\r\n\r\n##HHVM Version\r\n\r\nHHVM version of Link can be found at https://github.com/bmbsqd/Link-Hack . Thanks to [Andy Hawkins](https://github.com/a904guy) for creating it.\r\n\r\n\r\n#Installation\r\n\r\n## Composer\r\n\r\nFor install from composer just add the following line to your project's composer.json file\r\n```json\r\n\t\"require\" : {\r\n    \t\"link/link\" : \"dev-master\"\r\n    }\r\n```\r\n\r\nThen run `php composer.phar install`\r\n\r\n## Manually\r\n\r\nRun `git clone https://github.com/apsdehal/Link.git` in your project's home directory and include it using\r\n\r\n```php\r\n\trequire(\"Link/src/Link.php\");\r\n```\r\n\r\n#Basics\r\n\r\n##Simple Routing\r\n\r\nRouting is too simple with Link, following example supports it:\r\n\r\n```php\r\n<?php\r\n\r\nfunction routeMe(){\r\n\techo 'I am routed';\r\n}\r\n\r\nLink::all( array(\r\n\t'/' => 'routeMe'\r\n));\r\n```\r\n\r\n##Named Routing\r\n\r\nIn Link routes can be named and then further used generatings links in a simple and elegant way.\r\n\r\n```php\r\n\r\n<?php\r\n\r\nfunction nameMe(){\r\n\techo 'I am named';\r\n}\r\n\r\nLink::all( array(\r\n\t'/named' => ['nameMe', 'Its my name']\r\n));\r\n```\r\n\r\nNames to routes must be given as second argument in array while the first being the route handler.\r\n\r\n###Usage\r\n\r\nThese named routes can be used in creating in hassle free links.\r\n\r\n```html\r\n\t<a href=\"<?php echo Link::route('Its my name') ?>\">Go to named route</a>\r\n```\r\n\r\n##Routing with classes\r\n\r\nLink can handle classes as Route handler easily, but remember non-static class will be handled RESTfully.\r\n\r\n```php\r\n\r\n<?php\r\n\r\n$routes = array(\r\n\t'/' => 'IndexController::getMeHome', //Static function\r\n    '/home' => 'HomeController', //RESTful class\r\n    '/office' => 'OfficeController'\r\n);\r\n\r\nLink::all($routes)\r\n```\r\n\r\n##RESTful routing\r\n\r\nRESTful routing is a breeze for Link.\r\n\r\n```php\r\n\r\n<?php\r\n\r\nclass HomeController\r\n{\r\n\t\r\n    function get(){\r\n    \techo 'You have got to home :)';\r\n    }\r\n    \r\n    function post(){\r\n    \techo 'You have posted to home';\r\n    }\r\n    \r\n    function put(){\r\n    \techo 'You have put to home';\r\n    }\r\n    \r\n    function delete(){\r\n    \techo 'You have deleted the home :(';\r\n    }\r\n}\r\n\r\nLink::all( array (\r\n\t'/' => ['HomeController', 'HomeRoute']\r\n));\r\n```\r\n##WildCards\r\n\r\nLink supports numbers, string and alphanumeric wildcards which can be used as `{i} {s} {a}` respectively and of course it can render regex also. Example will clear away your doubts\r\n\r\n```php\r\n$routes = array(\r\n\t'/' => 'IndexController',\r\n    '/{i}' => 'IndexController',\r\n    //Parameter in place of {i} will be passed to IndexController\r\n\t'/posts/{a}/{i}/{s}' => 'PostsController'\r\n);\r\n\r\nLink::all($routes);\r\n```\r\n##Supplimentary Handlers\r\n\r\n###Universal Extra Handlers\r\n\r\nThrough Link, universal before and after handlers can be added, such that these are executed always before any route is routed. This can be done as follows:\r\n\r\n```php\r\n<?php\r\nfunction universalBeforeHandler( $id ) {\r\n    echo 'Hello I occured before with ' . $id . '\\n';\r\n}\r\n\r\nfunction universalAfterHandler( $id ) {\r\n    if( $id )\r\n        echo 'Hello I occured after with ' . $id;\r\n    else\r\n        echo 'I simply occured after';\r\n}\r\n\r\nfunction main(){\r\n    echo 'I simply occured\\n'\r\n}\r\n\r\nLink::before( 'universalBeforeHandler', ['12'] ); //If you want to pass parameters to them, pass them as arrays\r\nLink::before( 'universalBeforeHandler'); //else don't even pass them\r\n\r\nLink::all( array(\r\n    '/' => 'main'\r\n    ))\r\n```\r\n\r\nNow go to '/' in your browser to find:\r\n\r\nHello I occured before with 12\r\n\r\nI simply occured\r\n\r\nI simply occured after.\r\n\r\n###Single Route\r\n\r\nYou can add a before (middle) handler to a specific route, just pass the before handler to routes array as third parameters. The wildcards extracted from route will be passed to to before handler and if it return some array, this array will be passed further to main handler but if not the original extracted wildcards would be passed away. Make sure you return an array from before handler.\r\n\r\n```php\r\n<?php \r\nfunction beforeHandler( $name ) {\r\n    return [ $name . ' Link' ];\r\n}\r\n\r\nfunction mainHandler( $name ){\r\n    echo $name;\r\n}\r\n\r\nLink::all(array(\r\n    '/{s}' => 'mainHandler', 'Main', 'beforHandler'\r\n    ));\r\n``` \r\n\r\nGo to '/aps' in browser, you will get *aps Link*.\r\n\r\n##Passing Parameters to Named Routes\r\n\r\nYou can pass parameters to named routes if the have wildcards in the route path, this will thus generate dynamic links through a single named route.\r\n\r\n```php\r\n\r\n<?php\r\n\r\nfunction nameMe( $i, $s ){\r\n\techo 'I am named and I have been passed ' . $i . $s ;\r\n}\r\n\r\nLink::all( array(\r\n\t'/named/{i}/{s}' => ['nameMe', 'Its my name']\r\n));\r\n```\r\n\r\nNow generate a link through Link\r\n\r\n```php\r\n\r\necho Link::route( 'Its my name', array(1, 'Me') );\r\n```\r\n\r\nThis in turn will generate `YOUR_DOMAIN/named/1/Me`.\r\n\r\n## 404 Errors\r\n\r\nYou should probably add a 404 handler to your routes array, rest Link will take care of handling routes that are not found. In case, Link doesn't find a 404 route defined, it will just send a 404 header.\r\n\r\n# Server Configuration\r\n\r\n## Apache\r\n\r\nYou should add the following code snippet in your Apache HTTP server VHost configuration or **.htaccess** file.\r\n\r\n```apacheconf\r\n<IfModule mod_rewrite.c>\r\n    RewriteEngine on\r\n    RewriteCond %{REQUEST_FILENAME} !-f\r\n    RewriteCond %{REQUEST_FILENAME} !-d\r\n    RewriteCond $1 !^(index\\.php)\r\n    RewriteRule ^(.*)$ index.php/$1 [L]\r\n</IfModule>\r\n```\r\n\r\nAlternatively, in a version of Apache greater than 2.2.15, then you can use this:\r\n```apacheconf\r\nFallbackResource /index.php\r\n```\r\n\r\n#Notes\r\n\r\nIf you are planning to use non-Restful method and non-static classes, then use them as follows:\r\n\r\n```php\r\nclass HelloHandler \r\n{\r\n    public function home(){\r\n        echo 'Hello home';\r\n    }\r\n}\r\n\r\n$helloObject = new HelloHandler();\r\n\r\nLink::all( array(\r\n    '/' => array( $helloObejct, 'home' )\r\n    ))\r\n```\r\n\r\nSo you need to pass such functions as `array( $object, 'functionName' )`\r\n\r\n#Contributions\r\n\r\nThanks to all people below for contributing to Link.\r\n\r\n- @jedmiry\r\n- @pborelli\r\n\r\n#License\r\n\r\nLink is available under MIT license, so feel free to contribute and modify it as you like. Free software, Yeah!\r\n","google":"UA-51836617-2","note":"Don't delete this file! It's used internally to help with page regeneration."}